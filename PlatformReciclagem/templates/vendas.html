{% extends 'esqueleto.html' %}

{% block titulo %}
  <title>Eco Clean Luanda | Vendas</title>
{% endblock %}

{% block content %}
  <div class="col mt-3 ps-3 mb-4">
    <button type="button" class="btn btn-primary" onclick="location.href=`{% url 'adicionarvenda' %}`"><i class="bi bi-plus-lg"></i></button>
  </div>

  <div class="table-responsive">
    <table id="bootstrapdatatable" class="table table-striped table-bordered" width="100%">
      <thead>
        <th>ID</th>
        <th>Nome vendedor</th>
        <th>Nome comprador</th>
        <th>Valor</th>
        <th>Ver</th>
        <th>Editar</th>
        <th>Deletar</th>
      </thead>
      <tbody>
        {% for venda in vendas %}
          <tr>
            <td>{{ venda.id }}</td>
            <td>{{ venda.vendedor.nome_completo }}</td>
            <td>{{ venda.comprador.nome_completo }}</td>
            <td>{{ venda.valor }}</td>
            <td>
              <p data-placement="top" data-toggle="tooltip" title="Ver">
                <a href="/vervenda/{{ venda.id }}" class="btn btn-primary"><i class="bi bi-eye-fill"></i></a>
              </p>
            </td>
            <td>
              <p data-placement="top" data-toggle="tooltip" title="Editar">
                <a href="/atualizarvenda/{{ venda.id }}" class="btn btn-primary"><i class="bi bi-pencil-fill"></i></a>
              </p>
            </td>
            <td>
              <p data-placement="top" data-toggle="tooltip" title="Deletar">
                <a href="/deletarvenda/{{ venda.id }}" class="btn btn-danger"><i class="bi bi-trash3-fill"></i></a>
              </p>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}

{% block scripts %}
  <script>
    $(document).ready(function() {
      var table = new DataTable('#bootstrapdatatable', {
          //language: {
          //    url: '../src/dataTables/pt-pt.json',
          //},
      });
  });

  </script>
{% endblock %}
